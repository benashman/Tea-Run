var io=require("socket.io").listen(8080,{log:!1}),connections=function(){var e=this;e.users={ben:{name:"Ben",avatar:"https://si0.twimg.com/profile_images/3020635145/e79e85c09c1d993900ca438b077b0f84.jpeg",sugars:2},saul:{name:"Saul",avatar:"https://si0.twimg.com/profile_images/2658881264/f21e01f199be65b193024b5e36ff4325.jpeg",sugars:1},sam:{name:"Sam",avatar:"https://si0.twimg.com/profile_images/2820637288/ee3f907313988d46f6dfb252f6697426.jpeg",sugars:1}};e.init=function(){e.createRoom(["test","test2"]);console.log("Rooms: ",e.rooms);e.deleteRoom(["test","test2"]);console.log("Rooms: ",e.rooms);e.setupSockets()};e.setupSockets=function(){io.sockets.on("connection",function(e){e.join("home");e.emit("message",{message:"Connected to the socket!"});e.on("brew",function(e){console.log("Brew broadcast: ",e);io.sockets.in("home").emit("brew",e)})})};e.createRoom=function(t){var n;if(typeof t=="object")for(var r=0,i=t.length;r<i;r++){n={name:t[r]};e.rooms[t[r]]=n}else{n={name:t};e.rooms[t]=n}};e.getRoom=function(t){return e.rooms[t]};e.roomExists=function(t){var n=e.rooms.hasOwnProperty(t);n===!0?console.log("Debug: The room '"+t+"' exists."):console.log("Debug: The room '"+t+"' does not exist.");return n};e.deleteRoom=function(t){var n;if(typeof t=="object")for(var r=0,i=t.length;r<i;r++)e.roomExists(t[r])===!0&&delete e.rooms[t[r]];else e.roomExists(t)===!0&&delete e.rooms[t]}};module.exports=connections;